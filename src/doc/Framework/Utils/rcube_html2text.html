<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class rcube_html2text</title>
			<link rel="stylesheet" href="../../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name"><img src="../../media/images/Class_logo.png"
														alt=" Class"
														title=" Class"
														style="vertical-align: middle"> rcube_html2text</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
													<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Converts HTML to formatted plain text</p>
		<p class="notes">
			Located in <a class="field" href="_rcube_html2text.php.html">/rcube_html2text.php</a> (line <span class="field">98</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>



	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																																																																																																																																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$allowed_tags" title="details" class="var-name">$allowed_tags</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$callback_search" title="details" class="var-name">$callback_search</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$charset" title="details" class="var-name">$charset</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$ent_replace" title="details" class="var-name">$ent_replace</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$ent_search" title="details" class="var-name">$ent_search</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$html" title="details" class="var-name">$html</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$pre_replace" title="details" class="var-name">$pre_replace</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$pre_search" title="details" class="var-name">$pre_search</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$replace" title="details" class="var-name">$replace</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$search" title="details" class="var-name">$search</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$text" title="details" class="var-name">$text</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">string</span>
					<a href="#$url" title="details" class="var-name">$url</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">integer</span>
					<a href="#$width" title="details" class="var-name">$width</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$_converted" title="details" class="var-name">$_converted</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">boolean</span>
					<a href="#$_do_links" title="details" class="var-name">$_do_links</a>
				</div>
																<div class="var-title">
					<img src="../../media/images/Variable.png" alt=" " />
					<span class="var-type">array</span>
					<a href="#$_link_list" title="details" class="var-name">$_link_list</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																																																<div class="method-definition">
					<img src="../../media/images/Constructor.png" alt=" "/>
											<span class="method-result">rcube_html2text</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
											([<span class="var-type">string</span>&nbsp;<span class="var-name">$source</span> = <span class="var-default">''</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$from_file</span> = <span class="var-default">false</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$do_links</span> = <span class="var-default">true</span>], [<span class="var-type">integer</span>&nbsp;<span class="var-name">$width</span> = <span class="var-default">75</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$charset</span> = <span class="var-default">'UTF-8'</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#blockquote_citation_ballback" title="details" class="method-name">blockquote_citation_ballback</a>
											(<span class="var-type"></span>&nbsp;<span class="var-name">$m</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#get_text" title="details" class="method-name">get_text</a>
										()
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#pre_preg_callback" title="details" class="method-name">pre_preg_callback</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$matches</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#print_text" title="details" class="method-name">print_text</a>
										()
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#set_allowed_tags" title="details" class="method-name">set_allowed_tags</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$allowed_tags</span> = <span class="var-default">''</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#set_base_url" title="details" class="method-name">set_base_url</a>
											([<span class="var-type"></span>&nbsp;<span class="var-name">$url</span> = <span class="var-default">''</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#set_html" title="details" class="method-name">set_html</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$source</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$from_file</span> = <span class="var-default">false</span>])
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">string</span>
										<a href="#tags_preg_callback" title="details" class="method-name">tags_preg_callback</a>
											(<span class="var-type">array</span>&nbsp;<span class="var-name">$matches</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_build_link_list" title="details" class="method-name">_build_link_list</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">$link</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$display</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_convert" title="details" class="method-name">_convert</a>
										()
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_converter" title="details" class="method-name">_converter</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">&$text</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_convert_blockquotes" title="details" class="method-name">_convert_blockquotes</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">&$text</span>)
									</div>
																<div class="method-definition">
					<img src="../../media/images/Method.png" alt=" "/>
											<span class="method-result">void</span>
										<a href="#_convert_pre" title="details" class="method-name">_convert_pre</a>
											(<span class="var-type">string</span>&nbsp;<span class="var-name">&$text</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
<a name="var$allowed_tags" id="$allowed_tags"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$allowed_tags</span>
			 = <span class="var-default"> ''</span>			(line <span class="line-number">285</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Contains a list of HTML tags to allow in the resulting text.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#methodset_allowed_tags">rcube_html2text::set_allowed_tags()</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$callback_search" id="$callback_search"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$callback_search</span>
			 = <span class="var-default">array(<br />        '/&lt;(a) [^&gt;]*href=(&quot;|\')([^&quot;\']+)\2[^&gt;]*&gt;(.*?)&lt;\/a&gt;/i', // &lt;a href=&quot;&quot;&gt;<br />        '/&lt;(h)[123456]( [^&gt;]*)?&gt;(.*?)&lt;\/h[123456]&gt;/i',         // h1 - h6<br />        '/&lt;(b)( [^&gt;]*)?&gt;(.*?)&lt;\/b&gt;/i',                         // &lt;b&gt;<br />        '/&lt;(strong)( [^&gt;]*)?&gt;(.*?)&lt;\/strong&gt;/i',               // &lt;strong&gt;<br />        '/&lt;(th)( [^&gt;]*)?&gt;(.*?)&lt;\/th&gt;/i',                       // &lt;th&gt; and &lt;/th&gt;<br />    )</span>			(line <span class="line-number">242</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List of preg* regular expression patterns to search for  and replace using callback function.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$charset" id="$charset"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$charset</span>
			 = <span class="var-default"> 'UTF-8'</span>			(line <span class="line-number">129</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Target character encoding for output text</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$ent_replace" id="$ent_replace"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$ent_replace</span>
			 = <span class="var-default">array(<br />        ' ',                                    // Non-breaking space<br />        '&quot;',                                    // Double quotes<br />        &quot;'&quot;,                                    // Single quotes<br />        '&gt;',<br />        '&lt;',<br />        '(c)',<br />        '(tm)',<br />        '(R)',<br />        '--',<br />        '-',<br />        '*',<br />        'Â£',<br />        'EUR',                                  // Euro sign. € ?<br />        '|+|amp|+|',                            // Ampersand: see _converter()<br />        ' ',                                    // Runs of spaces, post-handling<br />    )</span>			(line <span class="line-number">218</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List of pattern replacements corresponding to patterns searched.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#var$ent_search">rcube_html2text::$ent_search</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$ent_search" id="$ent_search"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$ent_search</span>
			 = <span class="var-default">array(<br />        '/&amp;(nbsp|#160);/i',                      // Non-breaking space<br />        '/&amp;(quot|rdquo|ldquo|#8220|#8221|#147|#148);/i',<br />                                         // Double quotes<br />        '/&amp;(apos|rsquo|lsquo|#8216|#8217);/i',   // Single quotes<br />        '/&amp;gt;/i',                               // Greater-than<br />        '/&amp;lt;/i',                               // Less-than<br />        '/&amp;(copy|#169);/i',                      // Copyright<br />        '/&amp;(trade|#8482|#153);/i',               // Trademark<br />        '/&amp;(reg|#174);/i',                       // Registered<br />        '/&amp;(mdash|#151|#8212);/i',               // mdash<br />        '/&amp;(ndash|minus|#8211|#8722);/i',        // ndash<br />        '/&amp;(bull|#149|#8226);/i',                // Bullet<br />        '/&amp;(pound|#163);/i',                     // Pound sign<br />        '/&amp;(euro|#8364);/i',                     // Euro sign<br />        '/&amp;(amp|#38);/i',                        // Ampersand: see _converter()<br />        '/[ ]{2,}/',                             // Runs of spaces, post-handling<br />    )</span>			(line <span class="line-number">193</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List of preg* regular expression patterns to search for,  used in conjunction with $ent_replace.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#var$ent_replace">rcube_html2text::$ent_replace</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$html" id="$html"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$html</span>
						(line <span class="line-number">105</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Contains the HTML content to convert.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$pre_replace" id="$pre_replace"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$pre_replace</span>
			 = <span class="var-default">array(<br />        '&lt;br&gt;',<br />        '&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;',<br />        '&amp;nbsp;',<br />        '',<br />        ''<br />    )</span>			(line <span class="line-number">271</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List of pattern replacements corresponding to patterns searched for PRE body.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#var$pre_search">rcube_html2text::$pre_search</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$pre_search" id="$pre_search"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$pre_search</span>
			 = <span class="var-default">array(<br />        &quot;/\n/&quot;,<br />        &quot;/\t/&quot;,<br />        '/ /',<br />        '/&lt;pre[^&gt;]*&gt;/',<br />        '/&lt;\/pre&gt;/'<br />    )</span>			(line <span class="line-number">257</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List of preg* regular expression patterns to search for in PRE body,  used in conjunction with $pre_replace.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#var$pre_replace">rcube_html2text::$pre_replace</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$replace" id="$replace"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$replace</span>
			 = <span class="var-default">array(<br />        '',                                     // Non-legal carriage return<br />        ' ',                                    // Newlines and tabs<br />        '',                                     // &lt;head&gt;<br />        '',                                     // &lt;script&gt;s -- which strip_tags supposedly has problems with<br />        '',                                     // &lt;style&gt;s -- which strip_tags supposedly has problems with<br />        &quot;\n\n&quot;,                                 // &lt;P&gt;<br />        &quot;\n&quot;,                                   // &lt;br&gt;<br />        '_\\1_',                                // &lt;i&gt;<br />        '_\\1_',                                // &lt;em&gt;<br />        &quot;\n\n&quot;,                                 // &lt;ul&gt; and &lt;/ul&gt;<br />        &quot;\n\n&quot;,                                 // &lt;ol&gt; and &lt;/ol&gt;<br />        &quot;\t* \\1\n&quot;,                            // &lt;li&gt; and &lt;/li&gt;<br />        &quot;\n\t* &quot;,                               // &lt;li&gt;<br />        &quot;\n-------------------------\n&quot;,        // &lt;hr&gt;<br />        &quot;&lt;div&gt;\n&quot;,                              // &lt;div&gt;<br />        &quot;\n\n&quot;,                                 // &lt;table&gt; and &lt;/table&gt;<br />        &quot;\n&quot;,                                   // &lt;tr&gt; and &lt;/tr&gt;<br />        &quot;\t\t\\1\n&quot;,                            // &lt;td&gt; and &lt;/td&gt;<br />    )</span>			(line <span class="line-number">165</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List of pattern replacements corresponding to patterns searched.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#var$search">rcube_html2text::$search</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$search" id="$search"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$search</span>
			 = <span class="var-default">array(<br />        &quot;/\r/&quot;,                                  // Non-legal carriage return<br />        &quot;/[\n\t]+/&quot;,                             // Newlines and tabs<br />        '/&lt;head[^&gt;]*&gt;.*?&lt;\/head&gt;/i',             // &lt;head&gt;<br />        '/&lt;script[^&gt;]*&gt;.*?&lt;\/script&gt;/i',         // &lt;script&gt;s -- which strip_tags supposedly has problems with<br />        '/&lt;style[^&gt;]*&gt;.*?&lt;\/style&gt;/i',           // &lt;style&gt;s -- which strip_tags supposedly has problems with<br />        '/&lt;p[^&gt;]*&gt;/i',                           // &lt;P&gt;<br />        '/&lt;br[^&gt;]*&gt;/i',                          // &lt;br&gt;<br />        '/&lt;i[^&gt;]*&gt;(.*?)&lt;\/i&gt;/i',                 // &lt;i&gt;<br />        '/&lt;em[^&gt;]*&gt;(.*?)&lt;\/em&gt;/i',               // &lt;em&gt;<br />        '/(&lt;ul[^&gt;]*&gt;|&lt;\/ul&gt;)/i',                 // &lt;ul&gt; and &lt;/ul&gt;<br />        '/(&lt;ol[^&gt;]*&gt;|&lt;\/ol&gt;)/i',                 // &lt;ol&gt; and &lt;/ol&gt;<br />        '/&lt;li[^&gt;]*&gt;(.*?)&lt;\/li&gt;/i',               // &lt;li&gt; and &lt;/li&gt;<br />        '/&lt;li[^&gt;]*&gt;/i',                          // &lt;li&gt;<br />        '/&lt;hr[^&gt;]*&gt;/i',                          // &lt;hr&gt;<br />        '/&lt;div[^&gt;]*&gt;/i',                         // &lt;div&gt;<br />        '/(&lt;table[^&gt;]*&gt;|&lt;\/table&gt;)/i',           // &lt;table&gt; and &lt;/table&gt;<br />        '/(&lt;tr[^&gt;]*&gt;|&lt;\/tr&gt;)/i',                 // &lt;tr&gt; and &lt;/tr&gt;<br />        '/&lt;td[^&gt;]*&gt;(.*?)&lt;\/td&gt;/i',               // &lt;td&gt; and &lt;/td&gt;<br />    )</span>			(line <span class="line-number">138</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">List of preg* regular expression patterns to search for,  used in conjunction with $replace.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#var$replace">rcube_html2text::$replace</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$text" id="$text"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$text</span>
						(line <span class="line-number">112</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Contains the converted, formatted text.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$url" id="$url"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">string</span>
			<span class="var-name">$url</span>
						(line <span class="line-number">292</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Contains the base URL that relative links should resolve to.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$width" id="$width"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">integer</span>
			<span class="var-name">$width</span>
			 = <span class="var-default"> 70</span>			(line <span class="line-number">122</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Maximum width of the formatted text, in columns.</p>
<p class="description"><p>Set this value to 0 (or less) to ignore word wrapping  and not constrain text to a fixed-width column.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_converted" id="$_converted"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$_converted</span>
			 = <span class="var-default"> false</span>			(line <span class="line-number">300</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Indicates whether content in the $html variable has been converted yet.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#var$html">rcube_html2text::$html</a>, <a href="../../Framework/Utils/rcube_html2text.html#var$text">rcube_html2text::$text</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_do_links" id="$_do_links"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">boolean</span>
			<span class="var-name">$_do_links</span>
			 = <span class="var-default"> true</span>			(line <span class="line-number">316</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Boolean flag, true if a table of link URLs should be listed after the text.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#method__construct">rcube_html2text::__construct()</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
<a name="var$_link_list" id="$_link_list"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<img src="../../media/images/Variable.png" />
		<span class="var-title">
			<span class="var-type">array</span>
			<span class="var-name">$_link_list</span>
			 = <span class="var-default">array()</span>			(line <span class="line-number">308</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Contains URL addresses from links to be rendered in plain text.</p>
	<ul class="tags">
				<li><span class="field">see:</span> <a href="../../Framework/Utils/rcube_html2text.html#method_build_link_list">rcube_html2text::_build_link_list()</a></li>
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
														<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Constructor.png" />
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">330</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Constructor.</p>
<p class="description"><p>If the HTML source string (or file) is supplied, the class  will instantiate with that source propagated, all that has  to be done it to call get_text().</p></p>
	
	<div class="method-signature">
		<span class="method-result">rcube_html2text</span>
		<span class="method-name">
			__construct
		</span>
					([<span class="var-type">string</span>&nbsp;<span class="var-name">$source</span> = <span class="var-default">''</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$from_file</span> = <span class="var-default">false</span>], [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$do_links</span> = <span class="var-default">true</span>], [<span class="var-type">integer</span>&nbsp;<span class="var-name">$width</span> = <span class="var-default">75</span>], [<span class="var-type"></span>&nbsp;<span class="var-name">$charset</span> = <span class="var-default">'UTF-8'</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$source</span><span class="var-description">: HTML content</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$from_file</span><span class="var-description">: Indicates $source is a file to pull content from</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$do_links</span><span class="var-description">: Indicate whether a table of link URLs is desired</span>			</li>
					<li>
				<span class="var-type">integer</span>
				<span class="var-name">$width</span><span class="var-description">: Maximum width of the formatted text, 0 for no limit</span>			</li>
					<li>
				<span class="var-type"></span>
				<span class="var-name">$charset</span>			</li>
				</ul>
		
			
	</div>
<a name="methodblockquote_citation_ballback" id="blockquote_citation_ballback"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">blockquote_citation_ballback</span> (line <span class="line-number">625</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Callback function to correctly add citation markers for blockquote contents</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			blockquote_citation_ballback
		</span>
					(<span class="var-type"></span>&nbsp;<span class="var-name">$m</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$m</span>			</li>
				</ul>
		
			
	</div>
<a name="methodget_text" id="get_text"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">get_text</span> (line <span class="line-number">366</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Returns the text, converted from HTML.</p>
	<ul class="tags">
				<li><span class="field">return:</span> Plain text</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			get_text
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodpre_preg_callback" id="pre_preg_callback"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">pre_preg_callback</span> (line <span class="line-number">661</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Callback function for preg_replace_callback use in PRE content handler.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			pre_preg_callback
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$matches</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$matches</span><span class="var-description">: PREG matches</span>			</li>
				</ul>
		
			
	</div>
<a name="methodprint_text" id="print_text"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">print_text</span> (line <span class="line-number">378</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Prints the text, converted from HTML.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			print_text
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodset_allowed_tags" id="set_allowed_tags"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">set_allowed_tags</span> (line <span class="line-number">388</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sets the allowed HTML tags to pass through to the resulting text.</p>
<p class="description"><p>Tags should be in the form &quot;&lt;p&gt;&quot;, with no corresponding closing tag.</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			set_allowed_tags
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$allowed_tags</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$allowed_tags</span>			</li>
				</ul>
		
			
	</div>
<a name="methodset_base_url" id="set_base_url"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">set_base_url</span> (line <span class="line-number">398</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Sets a base URL to handle relative links.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			set_base_url
		</span>
					([<span class="var-type"></span>&nbsp;<span class="var-name">$url</span> = <span class="var-default">''</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type"></span>
				<span class="var-name">$url</span>			</li>
				</ul>
		
			
	</div>
<a name="methodset_html" id="set_html"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">set_html</span> (line <span class="line-number">349</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Loads source HTML into memory, either from $source string or a file.</p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			set_html
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$source</span>, [<span class="var-type">boolean</span>&nbsp;<span class="var-name">$from_file</span> = <span class="var-default">false</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$source</span><span class="var-description">: HTML content</span>			</li>
					<li>
				<span class="var-type">boolean</span>
				<span class="var-name">$from_file</span><span class="var-description">: Indicates $source is a file to pull content from</span>			</li>
				</ul>
		
			
	</div>
<a name="methodtags_preg_callback" id="tags_preg_callback"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">tags_preg_callback</span> (line <span class="line-number">638</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Callback function for preg_replace_callback use.</p>
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			tags_preg_callback
		</span>
					(<span class="var-type">array</span>&nbsp;<span class="var-name">$matches</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">array</span>
				<span class="var-name">$matches</span><span class="var-description">: PREG matches</span>			</li>
				</ul>
		
			
	</div>
<a name="method_build_link_list" id="_build_link_list"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_build_link_list</span> (line <span class="line-number">509</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Helper function called by preg_replace() on link replacement.</p>
<p class="description"><p>Maintains an internal list of links to be displayed at the end of the  text, with numeric indices to the original point in the text they  appeared. Also makes an effort at identifying and handling absolute  and relative links.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_build_link_list
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">$link</span>, <span class="var-type">string</span>&nbsp;<span class="var-name">$display</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$link</span><span class="var-description">: URL of the link</span>			</li>
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$display</span><span class="var-description">: Part of the text to associate number with</span>			</li>
				</ul>
		
			
	</div>
<a name="method_convert" id="_convert"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_convert</span> (line <span class="line-number">421</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Workhorse function that does actual conversion (calls _converter() method).</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_convert
		</span>
				()
			</div>
	
		
			
	</div>
<a name="method_converter" id="_converter"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_converter</span> (line <span class="line-number">453</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Workhorse function that does actual conversion.</p>
<p class="description"><p>First performs custom tag replacement specified by $search and  $replace arrays. Then strips any remaining HTML tags, reduces whitespace  and newlines to a readable format, and word wraps the text to  $width characters.</p></p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_converter
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">&$text</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">&$text</span><span class="var-description">: Reference to HTML content string</span>			</li>
				</ul>
		
			
	</div>
<a name="method_convert_blockquotes" id="_convert_blockquotes"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_convert_blockquotes</span> (line <span class="line-number">572</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Helper function for BLOCKQUOTE body conversion.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_convert_blockquotes
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">&$text</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">&$text</span><span class="var-description">: HTML content</span>			</li>
				</ul>
		
			
	</div>
<a name="method_convert_pre" id="_convert_pre"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<img src="../../media/images/Method.png" />
		<span class="method-title">_convert_pre</span> (line <span class="line-number">544</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Helper function for PRE body conversion.</p>
	<ul class="tags">
				<li><span class="field">access:</span> protected</li>
			</ul>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			_convert_pre
		</span>
					(<span class="var-type">string</span>&nbsp;<span class="var-name">&$text</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">&$text</span><span class="var-description">: HTML content</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>

	
	<p class="notes" id="credit">
		Documentation generated on Fri, 06 Sep 2013 14:21:14 +0200 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.4</a>
	</p>
	</div></body>
</html>